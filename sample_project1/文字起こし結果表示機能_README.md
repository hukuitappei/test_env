# 文字起こし結果表示機能

## 概要
Tech Mentor音声文字起こしアプリに、文字起こし結果を表示・管理する機能を追加しました。

## 新機能

### 1. 文字起こし結果表示ページ
- **場所**: `pages/transcription_results.py`
- **機能**: 
  - 文字起こしファイルの一覧表示
  - 検索・フィルタリング機能
  - 結果の編集・保存
  - ダウンロード機能
  - 統計情報表示

### 2. 文字起こし管理クラス
- **場所**: `utils/transcription_manager.py`
- **機能**:
  - 文字起こし履歴の管理
  - ファイルの保存・読み込み
  - 検索・フィルタリング
  - 統計情報の取得

### 3. メインアプリケーションの改善
- **場所**: `app.py`
- **機能**:
  - 文字起こし結果の履歴管理
  - 結果表示エリアの改善
  - アクションボタンの追加
  - 最近の履歴表示

## 使用方法

### 基本的な文字起こし
1. メインページで録音開始
2. 録音停止
3. 自動で文字起こしが実行される
4. 結果が表示される

### 結果の管理
1. サイドバーから「文字起こし結果管理」を選択
2. 左側のファイル一覧から表示したいファイルを選択
3. 右側で結果を確認・編集

### 検索・フィルタリング
- **キーワード検索**: サイドバーでキーワードを入力
- **日付フィルタリング**: 特定の日付の文字起こしのみ表示

### 編集機能
1. ファイルを選択
2. 「編集モード」にチェック
3. テキストを編集
4. 「保存」ボタンで保存

### アクション
- **ダウンロード**: テキストファイルとしてダウンロード
- **削除**: ファイルの削除（確認あり）
- **統計レポート**: 文字起こしの統計情報を表示

## ファイル構成

```
sample_project1/
├── app.py                          # メインアプリケーション
├── pages/
│   ├── transcription_results.py    # 文字起こし結果表示ページ
│   ├── dictionary.py              # 辞書管理
│   ├── summary.py                 # 要約機能
│   └── settings.py                # 設定
├── utils/
│   ├── transcription_manager.py   # 文字起こし管理クラス
│   └── transcribe_utils.py        # 文字起こしユーティリティ
├── transcriptions/                 # 文字起こしファイル保存先
└── settings/                      # 設定・履歴ファイル保存先
```

## 機能詳細

### 文字起こし結果表示ページ
- **ファイル一覧**: 作成日時順で表示
- **検索機能**: 内容に含まれるキーワードで検索
- **日付フィルタ**: 特定の日付のファイルのみ表示
- **編集機能**: 文字起こし結果の直接編集
- **統計情報**: 総文字数、単語数などの統計

### 履歴管理
- **自動保存**: 文字起こし実行時に自動で履歴に追加
- **履歴表示**: 最新の文字起こし履歴を表示
- **詳細情報**: 文字数、単語数、作成日時などの情報

### アクション機能
- **ダウンロード**: テキストファイルとして保存
- **削除**: ファイルと履歴の削除
- **統計レポート**: JSON形式での統計情報出力

## 技術仕様

### データ保存
- **文字起こしファイル**: `transcriptions/` ディレクトリ
- **履歴ファイル**: `settings/transcription_history.json`
- **ファイル形式**: テキストファイル（UTF-8）

### 検索機能
- **キーワード検索**: 大文字小文字を区別しない部分一致
- **日付フィルタ**: ISO形式の日付文字列での検索

### 統計情報
- **総文字起こし数**: 履歴に記録された総数
- **総単語数**: 全文字起こしの単語数の合計
- **総文字数**: 全文字起こしの文字数の合計
- **平均文字数**: 1回あたりの平均文字数

## 今後の拡張予定

1. **クリップボード機能**: 実際のクリップボードへのコピー
2. **エクスポート機能**: CSV、Excel形式での出力
3. **タグ機能**: 文字起こしにタグを付けて分類
4. **音声ファイル連携**: 文字起こしと音声ファイルの関連付け
5. **要約機能**: AIを使用した自動要約

## トラブルシューティング

### よくある問題

1. **ファイルが表示されない**
   - `transcriptions/` ディレクトリが存在するか確認
   - 文字起こしが正常に実行されているか確認

2. **編集が保存されない**
   - ファイルの書き込み権限を確認
   - ディスク容量を確認

3. **検索が動作しない**
   - キーワードの入力確認
   - 履歴ファイルの整合性確認

### ログの確認
- Streamlitのコンソール出力を確認
- エラーメッセージの詳細を確認

## 更新履歴

- **v1.0**: 基本的な文字起こし結果表示機能
- **v1.1**: 検索・フィルタリング機能追加
- **v1.2**: 編集・保存機能追加
- **v1.3**: 統計情報・履歴管理機能追加 