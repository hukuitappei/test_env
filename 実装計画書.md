# ボイスメモ帳 実装計画書（整理版）

---

## 1. プロジェクト概要

- **コンセプト**: シンプルで高精度な音声メモ帳
- **ターゲット**: 忙しい個人ユーザー
- **課題と解決策**: 手書きの手間を減らし、音声で手軽に記録・文字起こし
- **利用シーン**: スマホ・PCで即記録、後から要約や分析も
- **類似アプリ**: notta, ChatGPTメモ機能
- **開発理由**: シンプルさ・使いやすさ重視

---

## 2. 主要機能

- **音声記録**: ブラウザでマイク録音、サーバー送信
- **文字起こし**: サーバーで高精度テキスト化（Google Web Speech API等）
- **記録開始トリガー**: ボタン/自動
- **テキスト保存**: サーバーに日付付きで保存
- **分割記録**: 5分ごとに自動分割・送信

---

## 3. 技術スタック

- **バックエンド**: Python（Flask/FastAPI）、SpeechRecognition、pydub、sqlite3/json、LangChain、OpenAI、python-dotenv
- **フロントエンド**: HTML, CSS, JavaScript（MediaRecorder, Fetch）
- **環境構築**: pip

---

## 4. 実装フェーズ

### フェーズ1：バックエンド
1. 環境構築
2. Webサーバー立ち上げ
3. 音声アップロードAPI
4. 文字起こし処理
5. テキスト保存
6. LLM要約API（/summarize）実装・.envでAPIキー管理

### フェーズ2：フロントエンド
1. UI作成（記録ボタン、表示欄）
2. 録音・送信機能
3. UI連携（状態表示、結果表示）
4. スタイリング

### フェーズ3：設定・自動記録
1. 設定管理API
2. 設定UI
3. 自動記録ロジック
4. エラーハンドリング

---

## 5. 決定事項・考慮事項

- 文字起こしはGoogle Web Speech APIを初期採用
- 音声は5分ごと分割・順次送信
- サーバー負荷分散のため非同期処理
- ファイル命名は「日付_時刻.txt」
- 進捗はWebソケット等で簡易表示
- 音声データは暗号化保存
- デプロイは無料PaaS（Heroku等）を検討
- バックグラウンド録音・認証は初期未対応
- 設定はJSONファイルで保存
- UIはダークモード基調
- エラー時は詳細ログ＋ユーザー向け簡易表示

---

## 6. 今後の拡張・アイデア

### 優先度高
- ノート機能（タグ付け・自動分類）
- LLM連携（要約・分類）
- LLM要約機能（LangChain+OpenAIで日本語要約、APIキーは.env管理）

### その他
- 音声再生
- テキスト検索
- タグ/カテゴリ分け
- エクスポート（Word/PDF）
- 録音の自動一時停止/再開
- 音声ファイル一覧・削除

### 新規アイデア（2025-06追記）
- **音声によるテキスト修正**（例：「○○を△△に直して」）
- **音声コマンド操作**（例：「録音終了」「保存して」）
- **コマンド用音声の登録・カスタマイズ**

---

## 7. ディレクトリ構成（例）

- audio_chunks/（音声ファイル）
- transcriptions/（チャンクごとのテキスト）
- recordings/（結合テキスト）
- settings/（設定ファイル）

---

## 8. 今後の進め方

- 機能ごとにタスク分割・優先順位付け
- 実装・テスト・フィードバックのサイクルを回す
- 拡張アイデアは段階的に検討・実装